<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        
    
    <link rel='stylesheet' href="/./css/dracula.css">

        <title>xpath（1月31日）</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=2.0">
<link rel="stylesheet" href="/css/style.css">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="manifest" href="/site.webmanifest">

    <meta name="generator" content="Hexo 7.3.0"></head>
    <body>
        <header class="al_header al_pos_fixed">
    <div class="al_header_container dis_flex_jcenter">
        <div class="al_header_container_left">
            <div class="al_header_site_title">
                <a href="/">Hexo</a>
            </div>
        </div>

        <div class="dis_flex_jcenter">
            <div class="al_header_setting">
                <svg class="al_header_icon">
                    <use xmlns="http://www.w3.org/2000/svg" xlink:href="/assets/svg_icons.svg#svg-menu"></use>
                </svg>
            </div>
        </div>
    </div>
</header>

        <div class="al_sidebar">

    <div class="al_sidebar_overlay al_full_cover"></div>

    <div class="al_pos_fixed al_sidebar_cnt">
        <div class="dis_flex_acenter al_sidebar_header">
            <h3>Hexo</h3>
            <div class="al_sidebar_close al_header_setting">
                <svg class="al_header_icon">
                    <use xmlns="http://www.w3.org/2000/svg" xlink:href="/assets/svg_icons.svg#svg-close"></use>
                </svg>
            </div>
        </div>

        <div class="al_sidebar_author_cnt">

            <div class="al_sidebar_author_info">
                <h4>John Doe</h4>
                <img class="al_sidebar_avatar" src="https://yourAvatorURL">
                <p></p>
            </div>

            
        </div>
    </div>
</div>

        
    <div class="dis_flex_center al_lightbox_cnt al_full_cover">
        <img class="al_lightbox_img"/>
    </div>
    <div class="al_page_background dis_flex_center al_full_cover"></div>
    <div class="al_page_container">
        <div class="al_pos_ab al_fake_background"></div>
        <div class="al_main_container al_shadow al_main_page_container">
            <article class="al_article">
                <header>
                    <h1 class="al_page_title">
                        xpath（1月31日）
                    </h1>
                    <div class="al_page_info dis_flex">
                        <div class="al_page_content_info">
                            Fri January 31, 2025 10:16 PM
                        </div>

                        

                        
                        <span class="tags"></span>
                    </div>
                </header>

                
                    <div class="al_page_content_outline">
                        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8C%89%E6%AC%A1%E5%BA%8F%E9%80%89%E6%8B%A9"><span class="toc-text">按次序选择</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%90%E7%B1%BB%E5%9E%8B-%E7%AC%AC%E5%87%A0%E4%B8%AA-%E5%AD%90%E5%85%83%E7%B4%A0"><span class="toc-text">某类型 第几个 子元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E5%87%A0%E4%B8%AA%E5%AD%90%E5%85%83%E7%B4%A0"><span class="toc-text">第几个子元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%90%E7%B1%BB%E5%9E%8B-%E5%80%92%E6%95%B0%E7%AC%AC%E5%87%A0%E4%B8%AA-%E5%AD%90%E5%85%83%E7%B4%A0"><span class="toc-text">某类型 倒数第几个 子元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8C%83%E5%9B%B4%E9%80%89%E6%8B%A9"><span class="toc-text">范围选择</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%84%E9%80%89%E6%8B%A9%E3%80%81%E7%88%B6%E8%8A%82%E7%82%B9%E3%80%81%E5%85%84%E5%BC%9F%E8%8A%82%E7%82%B9"><span class="toc-text">组选择、父节点、兄弟节点</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E9%80%89%E6%8B%A9"><span class="toc-text">组选择</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E7%88%B6%E8%8A%82%E7%82%B9"><span class="toc-text">选择父节点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%84%E5%BC%9F%E8%8A%82%E7%82%B9%E9%80%89%E6%8B%A9"><span class="toc-text">兄弟节点选择</span></a></li></ol></li></ol>
                    </div>
                

                
                <section id="post-body">
                    <h2 id="按次序选择"><a href="#按次序选择" class="headerlink" title="按次序选择"></a>按次序选择</h2><p>xpath也可以根据次序选择元素。 语法比css更简洁，直接在方括号中使用数字表示次序</p>
<p>比如</p>
<h3 id="某类型-第几个-子元素"><a href="#某类型-第几个-子元素" class="headerlink" title="某类型 第几个 子元素"></a>某类型 第几个 子元素</h3><p>比如</p>
<p>要选择 p类型第2个的子元素，就是</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">//p[2]</span><br></pre></td></tr></table></figure>

<p>注意，选择的是 <code>p类型第2个的子元素</code> ， 不是 <code>第2个子元素，并且是p类型</code> 。</p>
<p>注意体会区别</p>
<p>再比如，要选取父元素为div 中的 p类型 第2个 子元素</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">//div/p[2]</span><br></pre></td></tr></table></figure>

<h3 id="第几个子元素"><a href="#第几个子元素" class="headerlink" title="第几个子元素"></a>第几个子元素</h3><p>也可以选择第2个子元素，不管是什么类型，采用通配符</p>
<p>比如 选择父元素为div的第2个子元素，不管是什么类型</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">//div/*[2]</span><br></pre></td></tr></table></figure>

<h3 id="某类型-倒数第几个-子元素"><a href="#某类型-倒数第几个-子元素" class="headerlink" title="某类型 倒数第几个 子元素"></a>某类型 倒数第几个 子元素</h3><p>当然也可以选取倒数第几个子元素</p>
<p>比如：</p>
<ul>
<li>选取p类型倒数第1个子元素</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">//p[last()]</span><br></pre></td></tr></table></figure>

<ul>
<li>选取p类型倒数第2个子元素</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">//p[last()-1]</span><br></pre></td></tr></table></figure>

<ul>
<li>选择父元素为div中p类型倒数第3个子元素</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">//div/p[last()-2]</span><br></pre></td></tr></table></figure>

<h3 id="范围选择"><a href="#范围选择" class="headerlink" title="范围选择"></a>范围选择</h3><p>xpath还可以选择子元素的次序范围。</p>
<p>比如，</p>
<ul>
<li>选取option类型第1到2个子元素</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">//option[position()&lt;=2]</span><br></pre></td></tr></table></figure>

<p>或者</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">//option[position()&lt;3]</span><br></pre></td></tr></table></figure>

<ul>
<li>选择class属性为multi_choice的前3个子元素</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">//*[@class=&#x27;multi_choice&#x27;]/*[position()&lt;=3]</span><br></pre></td></tr></table></figure>

<ul>
<li>选择class属性为multi_choice的后3个子元素</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">//*[@class=&#x27;multi_choice&#x27;]/*[position()&gt;=last()-2]</span><br></pre></td></tr></table></figure>

<h2 id="组选择、父节点、兄弟节点"><a href="#组选择、父节点、兄弟节点" class="headerlink" title="组选择、父节点、兄弟节点"></a>组选择、父节点、兄弟节点</h2><h3 id="组选择"><a href="#组选择" class="headerlink" title="组选择"></a>组选择</h3><p>css有组选择，可以同时使用多个表达式，多个表达式选择的结果都是要选择的元素</p>
<p>css 组选择，表达式之间用 <strong>逗号</strong> 隔开</p>
<p>xpath也有组选择， 是用 <strong>竖线</strong> 隔开多个表达式</p>
<p>比如，要选所有的option元素 和所有的 h4 元素，可以使用</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">//option | //h4</span><br></pre></td></tr></table></figure>

<p>等同于CSS选择器</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">option , h4</span><br></pre></td></tr></table></figure>

<h3 id="选择父节点"><a href="#选择父节点" class="headerlink" title="选择父节点"></a>选择父节点</h3><p>xpath可以选择父节点， 这是css做不到的。</p>
<p>某个元素的父节点用 <code>/..</code> 表示</p>
<p>比如，要选择 id 为 china 的节点的父节点，可以这样写 <code>//*[@id=&#39;china&#39;]/..</code> 。</p>
<p>当某个元素没有特征可以直接选择，但是它有子节点有特征， 就可以采用这种方法，先选择子节点，再指定父节点。</p>
<p>还可以继续找上层父节点，比如 <code>//*[@id=&#39;china&#39;]/../../..</code></p>
<h3 id="兄弟节点选择"><a href="#兄弟节点选择" class="headerlink" title="兄弟节点选择"></a>兄弟节点选择</h3><p>前面学过 css选择器，要选择某个节点的后续兄弟节点，用 <strong>波浪线</strong></p>
<p>xpath也可以选择 后续 兄弟节点，用这样的语法 <code>following-sibling::</code></p>

                </section>

                
                

                

            </article>

            
            <nav class="dis_flex al_post_nav">
                <a class="al_post_nav_item dis_flex_acenter" href="/2025/02/01/%E5%BC%82%E6%AD%A5%E7%BC%96%E7%A8%8B%EF%BC%882%E6%9C%881%E6%97%A5%EF%BC%89/">
                    
                        <svg class="al_arrow">
                            <use xmlns="http://www.w3.org/2000/svg" xlink:href="/assets/svg_icons.svg#svg-arrow-left"></use>
                        </svg>
                        <span class="al_text_ellipsis al_post_nav_desc">异步编程（2月1日）</span>
                    
                </a>
                <a class="al_post_nav_item dis_flex_acenter" href="/2025/01/30/xpath%EF%BC%881%E6%9C%8830%E6%97%A5%EF%BC%89/">
                    
                        <span class="al_text_ellipsis al_post_nav_desc">xpath（1月30日）</span>
                        <svg class="al_arrow">
                            <use xmlns="http://www.w3.org/2000/svg" xlink:href="/assets/svg_icons.svg#svg-arrow-right"></use>
                        </svg>
                    
                </a>
            </nav>
        </div>
    </div>


        <div class="al_index_footer dis_flex_center">
    <div class="al_index_footer_item al_index_footer_title">
        John Doe
    </div>

    
    

    <div class="al_index_footer_item al_index_footer_extra">
        Created By 
        <a target="_blank" rel="noopener" href="https://github.com/iGuan7u/Acetolog">AcetoLog</a>
         · Power By 
        <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>
    </div>

    <div class="al_index_footer_item al_index_footer_extra_right">
        All Right Reserved
    </div>
</div>

        <script type="text/javascript" async="async" src="/javascripts/acelog.js"></script>
        
        
        
        
        

    </body>
</html>