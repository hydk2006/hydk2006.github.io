<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        
    
    <link rel='stylesheet' href="/./css/dracula.css">

        <title>css表达式（1月25日26日）</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=2.0">
<link rel="stylesheet" href="/css/style.css">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="manifest" href="/site.webmanifest">

    <meta name="generator" content="Hexo 7.3.0"></head>
    <body>
        <header class="al_header al_pos_fixed">
    <div class="al_header_container dis_flex_jcenter">
        <div class="al_header_container_left">
            <div class="al_header_site_title">
                <a href="/">Hexo</a>
            </div>
        </div>

        <div class="dis_flex_jcenter">
            <div class="al_header_setting">
                <svg class="al_header_icon">
                    <use xmlns="http://www.w3.org/2000/svg" xlink:href="/assets/svg_icons.svg#svg-menu"></use>
                </svg>
            </div>
        </div>
    </div>
</header>

        <div class="al_sidebar">

    <div class="al_sidebar_overlay al_full_cover"></div>

    <div class="al_pos_fixed al_sidebar_cnt">
        <div class="dis_flex_acenter al_sidebar_header">
            <h3>Hexo</h3>
            <div class="al_sidebar_close al_header_setting">
                <svg class="al_header_icon">
                    <use xmlns="http://www.w3.org/2000/svg" xlink:href="/assets/svg_icons.svg#svg-close"></use>
                </svg>
            </div>
        </div>

        <div class="al_sidebar_author_cnt">

            <div class="al_sidebar_author_info">
                <h4>John Doe</h4>
                <img class="al_sidebar_avatar" src="https://yourAvatorURL">
                <p></p>
            </div>

            
        </div>
    </div>
</div>

        
    <div class="dis_flex_center al_lightbox_cnt al_full_cover">
        <img class="al_lightbox_img"/>
    </div>
    <div class="al_page_background dis_flex_center al_full_cover"></div>
    <div class="al_page_container">
        <div class="al_pos_ab al_fake_background"></div>
        <div class="al_main_container al_shadow al_main_page_container">
            <article class="al_article">
                <header>
                    <h1 class="al_page_title">
                        css表达式（1月25日26日）
                    </h1>
                    <div class="al_page_info dis_flex">
                        <div class="al_page_content_info">
                            Sun January 26, 2025 03:55 PM
                        </div>

                        

                        
                        <span class="tags"></span>
                    </div>
                </header>

                
                    <div class="al_page_content_outline">
                        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#CSS-Selector-%E8%AF%AD%E6%B3%95%E9%80%89%E6%8B%A9%E5%85%83%E7%B4%A0%E5%8E%9F%E7%90%86"><span class="toc-text">CSS Selector 语法选择元素原理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%9A%E8%BF%87-CSS-Selector-%E9%80%89%E6%8B%A9%E5%8D%95%E4%B8%AA%E5%85%83%E7%B4%A0%E7%9A%84%E6%96%B9%E6%B3%95%E6%98%AF"><span class="toc-text">通过 CSS Selector 选择单个元素的方法是</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E6%89%80%E6%9C%89%E5%85%83%E7%B4%A0%E7%9A%84%E6%96%B9%E6%B3%95%E6%98%AF"><span class="toc-text">选择所有元素的方法是</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%B9%E6%8D%AE-tag%E5%90%8D%E3%80%81id%E3%80%81class-%E9%80%89%E6%8B%A9%E5%85%83%E7%B4%A0"><span class="toc-text">根据 tag名、id、class 选择元素</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%B9%E6%8D%AE-tag%E5%90%8D-%E9%80%89%E6%8B%A9%E5%85%83%E7%B4%A0%E7%9A%84-CSS-Selector-%E8%AF%AD%E6%B3%95%E9%9D%9E%E5%B8%B8%E7%AE%80%E5%8D%95%EF%BC%8C%E7%9B%B4%E6%8E%A5%E5%86%99%E4%B8%8Atag%E5%90%8D%E5%8D%B3%E5%8F%AF%EF%BC%8C"><span class="toc-text">根据 tag名 选择元素的 CSS Selector 语法非常简单，直接写上tag名即可，</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%B9%E6%8D%AEid%E5%B1%9E%E6%80%A7-%E9%80%89%E6%8B%A9%E5%85%83%E7%B4%A0%E7%9A%84%E8%AF%AD%E6%B3%95%E6%98%AF%E5%9C%A8id%E5%8F%B7%E5%89%8D%E9%9D%A2%E5%8A%A0%E4%B8%8A%E4%B8%80%E4%B8%AA%E4%BA%95%E5%8F%B7%EF%BC%9A-id%E5%80%BC"><span class="toc-text">根据id属性 选择元素的语法是在id号前面加上一个井号： #id值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%B9%E6%8D%AEclass%E5%B1%9E%E6%80%A7-%E9%80%89%E6%8B%A9%E5%85%83%E7%B4%A0%E7%9A%84%E8%AF%AD%E6%B3%95%E6%98%AF%E5%9C%A8-class-%E5%80%BC-%E5%89%8D%E9%9D%A2%E5%8A%A0%E4%B8%8A%E4%B8%80%E4%B8%AA%E7%82%B9%EF%BC%9A-class%E5%80%BC"><span class="toc-text">根据class属性 选择元素的语法是在 class 值 前面加上一个点： .class值</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%89%E6%8B%A9-%E5%AD%90%E5%85%83%E7%B4%A0-%E5%92%8C-%E5%90%8E%E4%BB%A3%E5%85%83%E7%B4%A0"><span class="toc-text">选择 子元素 和 后代元素</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%B9%E6%8D%AE%E5%B1%9E%E6%80%A7%E9%80%89%E6%8B%A9"><span class="toc-text">根据属性选择</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%AA%8C%E8%AF%81-CSS-Selector"><span class="toc-text">验证 CSS Selector</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E8%AF%AD%E6%B3%95%E8%81%94%E5%90%88%E4%BD%BF%E7%94%A8"><span class="toc-text">选择语法联合使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%84%E9%80%89%E6%8B%A9"><span class="toc-text">组选择</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8C%89%E6%AC%A1%E5%BA%8F%E9%80%89%E6%8B%A9%E5%AD%90%E8%8A%82%E7%82%B9"><span class="toc-text">按次序选择子节点</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%88%B6%E5%85%83%E7%B4%A0%E7%9A%84%E7%AC%ACn%E4%B8%AA%E5%AD%90%E8%8A%82%E7%82%B9"><span class="toc-text">父元素的第n个子节点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%88%B6%E5%85%83%E7%B4%A0%E7%9A%84%E5%80%92%E6%95%B0%E7%AC%ACn%E4%B8%AA%E5%AD%90%E8%8A%82%E7%82%B9"><span class="toc-text">父元素的倒数第n个子节点</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%84%E5%BC%9F%E8%8A%82%E7%82%B9%E9%80%89%E6%8B%A9"><span class="toc-text">兄弟节点选择</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%B8%E9%82%BB%E5%85%84%E5%BC%9F%E8%8A%82%E7%82%B9%E9%80%89%E6%8B%A9"><span class="toc-text">相邻兄弟节点选择</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%8E%E7%BB%AD%E6%89%80%E6%9C%89%E5%85%84%E5%BC%9F%E8%8A%82%E7%82%B9%E9%80%89%E6%8B%A9"><span class="toc-text">后续所有兄弟节点选择</span></a></li></ol></li></ol>
                    </div>
                

                
                <section id="post-body">
                    <h2 id="CSS-Selector-语法选择元素原理"><a href="#CSS-Selector-语法选择元素原理" class="headerlink" title="CSS Selector 语法选择元素原理"></a>CSS Selector 语法选择元素原理</h2><p>CSS必须告诉浏览器：要选择哪些元素,来使用这样的显示风格</p>
<p>CSS Selector 语法就是用来选择元素的。</p>
<p>既然 CSS Selector 语法 天生就是浏览器用来选择元素的，selenium自然就可以使用它用在自动化中，去选择要操作的元素了。</p>
<p>只要 CSS Selector 的语法是正确的， Selenium 就可以选择到该元素。</p>
<h3 id="通过-CSS-Selector-选择单个元素的方法是"><a href="#通过-CSS-Selector-选择单个元素的方法是" class="headerlink" title="通过 CSS Selector 选择单个元素的方法是"></a>通过 CSS Selector 选择单个元素的方法是</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find_element(By.CSS_SELECTOR, CSS Selector参数)</span><br></pre></td></tr></table></figure>

<h3 id="选择所有元素的方法是"><a href="#选择所有元素的方法是" class="headerlink" title="选择所有元素的方法是"></a>选择所有元素的方法是</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find_elements(By.CSS_SELECTOR, CSS Selector参数)</span><br></pre></td></tr></table></figure>

<h2 id="根据-tag名、id、class-选择元素"><a href="#根据-tag名、id、class-选择元素" class="headerlink" title="根据 tag名、id、class 选择元素"></a>根据 tag名、id、class 选择元素</h2><p>CSS Selector 同样可以根据tag名、id 属性和 class属性 来 选择元素，</p>
<h3 id="根据-tag名-选择元素的-CSS-Selector-语法非常简单，直接写上tag名即可，"><a href="#根据-tag名-选择元素的-CSS-Selector-语法非常简单，直接写上tag名即可，" class="headerlink" title="根据 tag名 选择元素的 CSS Selector 语法非常简单，直接写上tag名即可，"></a>根据 tag名 选择元素的 CSS Selector 语法非常简单，直接写上tag名即可，</h3><p>比如 要选择 所有的tag名为div的元素，就可以是这样</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">elements = wd.find_elements(By.CSS_SELECTOR, &#x27;div&#x27;)</span><br></pre></td></tr></table></figure>

<p>等价于</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">elements = wd.find_elements(By.TAG_NAME, &#x27;div&#x27;)</span><br></pre></td></tr></table></figure>

<h3 id="根据id属性-选择元素的语法是在id号前面加上一个井号：-id值"><a href="#根据id属性-选择元素的语法是在id号前面加上一个井号：-id值" class="headerlink" title="根据id属性 选择元素的语法是在id号前面加上一个井号： #id值"></a>根据id属性 选择元素的语法是在id号前面加上一个井号： <code>#id值</code></h3><h3 id="根据class属性-选择元素的语法是在-class-值-前面加上一个点：-class值"><a href="#根据class属性-选择元素的语法是在-class-值-前面加上一个点：-class值" class="headerlink" title="根据class属性 选择元素的语法是在 class 值 前面加上一个点： .class值"></a>根据class属性 选择元素的语法是在 class 值 前面加上一个点： <code>.class值</code></h3><h2 id="选择-子元素-和-后代元素"><a href="#选择-子元素-和-后代元素" class="headerlink" title="选择 子元素 和 后代元素"></a>选择 子元素 和 后代元素</h2><p>这种包含是直接包含， 中间没有其他的层次的元素了。 所以 id 为 <code>layer1</code> 和 <code>layer2</code> 的两个div元素 是 id 为 <code>container</code> 的div元素 的 <strong>直接子元素</strong></p>
<p>而 id 为 <code>layer1</code> 的div元素 又包含了 id 为 <code>inner11</code> 和 <code>inner12</code> 的两个div元素。 中间没有其他层次的元素，所以这种包含关系也是 <strong>直接子元素</strong> 关系</p>
<p>id 为 <code>layer2</code> 的div元素 又包含了 id 为 <code>inner21</code> 这个div元素。 这种包含关系也是 <strong>直接子元素</strong> 关系</p>
<h2 id="根据属性选择"><a href="#根据属性选择" class="headerlink" title="根据属性选择"></a>根据属性选择</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">from selenium import webdriver</span><br><span class="line">from selenium.webdriver.common.by import By</span><br><span class="line"></span><br><span class="line">wd = webdriver.Chrome()</span><br><span class="line"></span><br><span class="line">wd.get(&#x27;https://www.byhy.net/cdn2/files/selenium/sample1.html&#x27;)</span><br><span class="line"></span><br><span class="line"># 根据属性选择元素</span><br><span class="line">element = wd.find_element(By.CSS_SELECTOR, &#x27;[href=&quot;http://www.miitbeian.gov.cn&quot;]&#x27;)</span><br><span class="line"></span><br><span class="line"># 打印出元素对应的html</span><br><span class="line">print(element.get_attribute(&#x27;outerHTML&#x27;))</span><br></pre></td></tr></table></figure>

<h2 id="验证-CSS-Selector"><a href="#验证-CSS-Selector" class="headerlink" title="验证 CSS Selector"></a>验证 CSS Selector</h2><p>点击 Elements 标签后， 同时按 Ctrl 键 和 F 键， 就会出现下图箭头处的 搜索框</p>
<h2 id="选择语法联合使用"><a href="#选择语法联合使用" class="headerlink" title="选择语法联合使用"></a>选择语法联合使用</h2><p>CSS selector 表达式 可以这样写：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">div.footer1 &gt; span.copyright</span><br></pre></td></tr></table></figure>

<p>就是 选择 一个class 属性值为 copyright 的 span 节点， 并且要求其 必须是 class 属性值为 footer1 的 div节点 的子节点</p>
<p>也可以更简单：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.footer1 &gt; .copyright</span><br></pre></td></tr></table></figure>

<p>就是 选择 一个class 属性值为copyright 的节点（不限类型）， 并且要求其 必须是 class 属性值为 footer1 的节点的 子节点</p>
<p>当然 这样也是可以的：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.footer1  .copyright</span><br></pre></td></tr></table></figure>

<p>因为子元素同时也是后代元素</p>
<h2 id="组选择"><a href="#组选择" class="headerlink" title="组选择"></a>组选择</h2><p>css选择器可以 使用 <code>逗号</code> ，称之为 组选择 ，像这样</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.plant , .animal</span><br></pre></td></tr></table></figure>

<p>注意：组选择结果列表中，选中元素排序， 不是 组表达式的次序， 而是符合这些表达式的元素，在HTML文档中的出现的次序。</p>
<h2 id="按次序选择子节点"><a href="#按次序选择子节点" class="headerlink" title="按次序选择子节点"></a>按次序选择子节点</h2><h3 id="父元素的第n个子节点"><a href="#父元素的第n个子节点" class="headerlink" title="父元素的第n个子节点"></a>父元素的第n个子节点</h3><p>我们可以指定选择的元素是父元素的第几个子节点</p>
<p>使用 <code>nth-child</code></p>
<h3 id="父元素的倒数第n个子节点"><a href="#父元素的倒数第n个子节点" class="headerlink" title="父元素的倒数第n个子节点"></a>父元素的倒数第n个子节点</h3><p>也可以反过来,选择的是父元素的倒数第几个子节点，使用 <code>nth-last-child</code></p>
<p>奇数节点和偶数节点<br>如果要选择的是父元素的偶数节点，使用 nth-child(even)</p>
<h2 id="兄弟节点选择"><a href="#兄弟节点选择" class="headerlink" title="兄弟节点选择"></a>兄弟节点选择</h2><h3 id="相邻兄弟节点选择"><a href="#相邻兄弟节点选择" class="headerlink" title="相邻兄弟节点选择"></a>相邻兄弟节点选择</h3><p>元素 紧跟关系的 是 <code>加号</code></p>
<h3 id="后续所有兄弟节点选择"><a href="#后续所有兄弟节点选择" class="headerlink" title="后续所有兄弟节点选择"></a>后续所有兄弟节点选择</h3><p>选择是 选择 h3 <code>后面所有的兄弟节点</code> span，可以这样写 <code>h3 ~ span</code></p>

                </section>

                
                

                

            </article>

            
            <nav class="dis_flex al_post_nav">
                <a class="al_post_nav_item dis_flex_acenter" href="/">
                    
                </a>
                <a class="al_post_nav_item dis_flex_acenter" href="/2025/01/24/%E6%93%8D%E6%8E%A7%E5%85%83%E7%B4%A0%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%96%B9%E6%B3%95%EF%BC%881%E6%9C%8824%E6%97%A5%EF%BC%89/">
                    
                        <span class="al_text_ellipsis al_post_nav_desc">操控元素的基本方法（1月24日）</span>
                        <svg class="al_arrow">
                            <use xmlns="http://www.w3.org/2000/svg" xlink:href="/assets/svg_icons.svg#svg-arrow-right"></use>
                        </svg>
                    
                </a>
            </nav>
        </div>
    </div>


        <div class="al_index_footer dis_flex_center">
    <div class="al_index_footer_item al_index_footer_title">
        John Doe
    </div>

    
    

    <div class="al_index_footer_item al_index_footer_extra">
        Created By 
        <a target="_blank" rel="noopener" href="https://github.com/iGuan7u/Acetolog">AcetoLog</a>
         · Power By 
        <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>
    </div>

    <div class="al_index_footer_item al_index_footer_extra_right">
        All Right Reserved
    </div>
</div>

        <script type="text/javascript" async="async" src="/javascripts/acelog.js"></script>
        
        
        
        
        

    </body>
</html>